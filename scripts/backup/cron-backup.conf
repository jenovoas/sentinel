# Sentinel Backup System - Cron Configuration

# This file contains the cron job configuration for automated PostgreSQL backups.
# 
# Installation:
#   crontab -e
#   Then add one of the lines below
#
# Or install automatically:
#   crontab -l > /tmp/current-cron
#   cat scripts/backup/cron-backup.conf >> /tmp/current-cron
#   crontab /tmp/current-cron
#   rm /tmp/current-cron

# ============================================================================
# BACKUP SCHEDULES
# ============================================================================

# Option 1: Every 6 hours (recommended for production)
# Runs at: 00:00, 06:00, 12:00, 18:00
0 */6 * * * cd /home/jnovoas/sentinel && ./scripts/backup/backup.sh >> /var/log/sentinel-backup.log 2>&1

# Option 2: Daily at 3 AM (recommended for development)
# 0 3 * * * cd /home/jnovoas/sentinel && ./scripts/backup/backup.sh >> /var/log/sentinel-backup.log 2>&1

# Option 3: Twice daily (6 AM and 6 PM)
# 0 6,18 * * * cd /home/jnovoas/sentinel && ./scripts/backup/backup.sh >> /var/log/sentinel-backup.log 2>&1

# Option 4: Every hour (high-frequency, for critical systems)
# 0 * * * * cd /home/jnovoas/sentinel && ./scripts/backup/backup.sh >> /var/log/sentinel-backup.log 2>&1

# ============================================================================
# BACKUP CLEANUP (Optional)
# ============================================================================

# Clean up old log files (keep last 30 days)
# 0 4 * * 0 find /var/log -name "sentinel-backup.log*" -mtime +30 -delete

# ============================================================================
# NOTES
# ============================================================================
#
# - All times are in server local time
# - Logs are appended to /var/log/sentinel-backup.log
# - Backup retention is controlled by BACKUP_RETENTION_DAYS in .env
# - Make sure the script is executable: chmod +x scripts/backup/backup.sh
# - Verify cron is running: systemctl status cron
# - View cron logs: grep CRON /var/log/syslog
#
