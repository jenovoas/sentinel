# Sentinel Observability Stack - Environment Variables
# Copiar a .env y ajustar según necesidades

# Grafana Configuration
GRAFANA_USER=admin
GRAFANA_PASSWORD=darkfenix  # CAMBIAR EN PRODUCCIÓN

# n8n Configuration
N8N_BASIC_AUTH_ACTIVE=true
N8N_USER=admin
N8N_PASSWORD=darkfenix  # CAMBIAR EN PRODUCCIÓN
N8N_HOST=localhost
DB_SQLITE_POOL_SIZE=5
N8N_RUNNERS_ENABLED=true
N8N_BLOCK_ENV_ACCESS_IN_NODE=false
N8N_GIT_NODE_DISABLE_BARE_REPOS=true

# n8n Integrations (completar con tus datos)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/XXX/YYY/ZZZ  # Reemplaza
SMTP_HOST=smtp.tu-proveedor.com
SMTP_PORT=587
SMTP_USER=usuario
SMTP_PASS=password
SMTP_FROM=alerts@tu-dominio.com
SMTP_TO=destinatario@tu-dominio.com
SMTP_SECURE=false  # true si usas TLS en 465

# PostgreSQL Configuration (ya existente, mantener)
POSTGRES_USER=sentinel_user
POSTGRES_PASSWORD=darkfenix
POSTGRES_DB=sentinel_db

# Backend Configuration (ya existente, mantener)
DATABASE_URL=postgresql+asyncpg://sentinel_user:darkfenix@postgres:5432/sentinel_db
REDIS_URL=redis://redis:6379/0
FASTAPI_ENV=development
SECRET_KEY=your-secret-key-change-in-production-min-32-chars-xyz123
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000,http://frontend:3000
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1
LOG_LEVEL=INFO

# Frontend Configuration (ya existente, mantener)
NEXT_PUBLIC_API_URL=http://localhost:8000
NODE_ENV=development

# Ollama AI Configuration
OLLAMA_URL=http://ollama:11434
OLLAMA_MODEL=phi3:mini
AI_ENABLED=true
OLLAMA_TIMEOUT=8
OLLAMA_NUM_PREDICT=100
OLLAMA_TEMPERATURE=0.3

# ============================================================================
# Backup System Configuration
# ============================================================================

# PostgreSQL Backup Settings
POSTGRES_CONTAINER=sentinel-postgres
# POSTGRES_USER and POSTGRES_DB already defined above

# Backup Directory and Retention
BACKUP_DIR=/var/backups/sentinel/postgres
BACKUP_RETENTION_DAYS=7
BACKUP_COMPRESSION_LEVEL=9

# S3 Configuration (optional - for off-site backups)
S3_ENABLED=false
S3_BUCKET=s3://sentinel-backups/postgres
S3_STORAGE_CLASS=STANDARD_IA  # Options: STANDARD, STANDARD_IA, GLACIER
S3_REGION=us-east-1

# MinIO Configuration (optional - alternative to S3)
MINIO_ENABLED=false
MINIO_ENDPOINT=http://minio:9000
MINIO_BUCKET=sentinel-backups
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin

# Encryption (optional - recommended for production)
ENCRYPT_ENABLED=false
ENCRYPTION_KEY_PATH=/etc/sentinel/backup.key
ENCRYPTION_ALGORITHM=aes-256-cbc

# Notifications (optional - Slack/Discord webhooks)
WEBHOOK_ENABLED=false
# WEBHOOK_URL already defined above for n8n, reuse or create new
NOTIFICATION_LEVEL=error  # Options: all, error, none

# Logging
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARN, ERROR
LOG_FILE=/var/log/sentinel-backup.log
LOG_TO_FILE=true
LOG_TO_STDOUT=true

# ============================================================================
# Observability Authentication (Cognitive Security Hardening)
# ============================================================================

# Prometheus Metrics Authentication
OBSERVABILITY_METRICS_PASSWORD=changeme123  # CHANGE IN PRODUCTION!

# Loki Logs Authentication
OBSERVABILITY_LOGS_PASSWORD=changeme456  # CHANGE IN PRODUCTION!

# ============================================================================
# Telemetry Sanitization (AI Security)
# ============================================================================

# Enable/disable telemetry sanitization to prevent AI prompt injection
TELEMETRY_SANITIZATION_ENABLED=true
